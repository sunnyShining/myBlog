<!doctype html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8" >
    <meta http-equiv="X-UA-Compatible" content="IE=11,IE=10,IE=9,IE=8" >
    <meta name="baidu-site-verification" content="dIcXMeY8Ya" />
    
    <title>文章归档 | sunny</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0" >
    <meta name="keywords" content="sunny, 前端, Web, 前端开发" >
    <meta name="description" content="sunny个人技术小站" >

    
    <link rel="alternative" href="/atom.xml" title="sunny" type="application/atom+xml" >
    
    
    <link rel="shortcut icon" href="/favicon.ico" >
    
    <link rel="stylesheet" href="/css/style.css">
</head>

<body class="home">
    <!-- 博客头部 -->
    <header class="header">
    <section class="container header-main">
        <div class="logo">
            <a href="/">
                <div class="cover">
                    <span class="name">sunny</span>
                    <span class="description">sunny&#39;s blog</span>
                </div>
            </a>
        </div>
        <div class="dropnav icon-paragraph-justify" id="btnDropNav"></div>
        <ul class="menu hidden" id="menu">
            
            <li rel="/archives/index.html" class="item ">
                <a href="/" title="首页" class="icon-home">&nbsp;首页</a>
            </li>
            
            <li rel="/archives/index.html" class="item ">
                <a href="/lab/" title="实验室" class="icon-lab">&nbsp;实验室</a>
            </li>
            
            <li rel="/archives/index.html" class="item ">
                <a href="/about/" title="关于" class="icon-about">&nbsp;关于</a>
            </li>
            
            <li rel="/archives/index.html" class="item ">
                <a href="/comment/" title="留言" class="icon-comment">&nbsp;留言</a>
            </li>
            
        </ul>
        <div class="profile clearfix">
            <div class="feeds fl">
                
                
                <p class="links">
                    
                        <a href="https://github.com/sunnyShining" target="_blank">Github</a>
                        |
                    
                        <a href="https://gitee.com/sunnyShining" target="_blank">gitee</a>
                        
                    
                </p>
                <p class="sns">
                    
                        <a href="https://weibo.com/u/2449308854" class="sinaweibo" target="_blank"><b>■</b> 新浪微博</a>
                    
                        <a href="https://www.jianshu.com/u/e53a4b002124" class="qqweibo" target="_blank"><b>■</b> 简书</a>
                    
                    <a href="javascript: void(0);" class="wechat">
                        <b>■</b>
                        公众号
                        <span class="popover">
                            <img src="/img/wechat_mp.jpg" width="120" height="120" alt="我的微信订阅号">
                            <i class="arrow"></i>
                        </span>
                    </a>
                </p>
                
            </div>
            <div class="avatar fr">
                <img src="/img/sunny.jpg" alt="avatar" title="Jelon" >
            </div>
        </div>
    </section>
</header>

    <!-- 博客正文 -->
    <div class="container body clearfix">
        <section class="content">
            <div class="content-main widget">
                <!-- 文章归档 -->

    <h3 class="widget-hd">
        <strong>
            
                文章归档
            
        </strong>
    </h3>
    
        <!-- 文章 -->
<article class="post">
    <header>
        <!-- 标签这有且只能显示一个 -->
        
            <a href="javascript: void(0);" class="cat">未分类</a>
        
        <!-- 文章标题 -->
        
    <h3 class="post-title">
    	<a href="https://sunnyshining.github.io/2018/08/13/hello-world/">
    		Hello World 非 Hello World
    	</a>
    </h3>

    </header>
    <p class="post-meta">
        sunny 发表于
        <time datetime="2018-08-13T00:52:43.000Z">2018-08-13</time>
        &nbsp;&nbsp;
        <span class="post-tags">
            标签：
            
        </span>
    </p>

    <div class="post-content">
        <div class="post-excerpt">
            
                <p>这是一个技术的博客地址，无奈在开始以后的技术博客前，先来篇心情博客，祭奠回忆的尘埃。</p>
<h2 id="第一，我想告别我逝去的爱情。"><a href="#第一，我想告别我逝去的爱情。" class="headerlink" title="第一，我想告别我逝去的爱情。"></a>第一，我想告别我逝去的爱情。</h2><p>对于你，对于爱情，我有太多的话，我却没有太多的话，聚散如浮萍，不可勉强，祝好。</p>
<h2 id="第二，我想和时间来个交流。"><a href="#第二，我想和时间来个交流。" class="headerlink" title="第二，我想和时间来个交流。"></a>第二，我想和时间来个交流。</h2><p>时间——一道转轮，寒来暑往，来往匆匆，不经意间已流过27个岁月。蓦然一个回首，已到中年，年少时太多的轻狂，太多的幼稚，都随风而去吧。</p>
<p>年少时，我们无忧无虑，我们可以尽情挥霍我们的时间；年少时，不懂人情世故，轻信他人，以为上天很眷顾自己，到头来一场空；年少时，我傲慢，却缺少了傲慢的资本。</p>
<p>或许最近的烦恼是因为人之所以烦恼太多，就是执着的太多，想要的太多，欲望只会摧毁你本就平稳的步伐，让你失去最初的自己。往事不可追，很多东西失去了就失去了，过分的执着只会让我迷失了自己。坚持自己的道路，不可因为过去而沮丧。</p>
<p>亲爱的自己，不要害怕磨难，不要害怕孤单，努力，岂不美哉！</p>
<p>深吸一口气，一呼一吸之间，一股凉意在我血液里不停的循环，驱走了几分燥热，带走了些许的落寞。</p>
<p>我在渐渐老去，我需要开始我的旅行，未来可能有你的陪伴，也许只有我一个人，路还是要自己走，梦还是要自己实现。</p>
<p>未来好好做件有意义的事，不好吗？</p>
<p>我们最终都会被年华囫囵吞枣的吞下而后悔到天明，还是珍惜度过每一天，总会有些不一样。</p>
<p>少年听雨歌楼上，红烛昏罗帐。壮年听雨客舟中，江阔云低，断雁叫西风。<br>而今听雨僧庐下，鬓已星星也。悲欢离合总无情，一任阶前点滴到天明。</p>
<p>让我从这个Hello World开始，开始下一个Hello World。</p>
<audio src="http://sc1.111ttt.com:8282/2015/1/01m/27/94272221273.m4a?#.mp3" controls="controls"></audio>

            
            <p class="more">
                <a href="https://sunnyshining.github.io/2018/08/13/hello-world/">阅读剩下更多</a>
            </p>
        </div>
    </div>
</article>

    
        <!-- 文章 -->
<article class="post">
    <header>
        <!-- 标签这有且只能显示一个 -->
        
            <a href="javascript: void(0);" class="cat">未分类</a>
        
        <!-- 文章标题 -->
        
    <h3 class="post-title">
    	<a href="https://sunnyshining.github.io/2017/12/03/YeomanGenerator/">
    		创建属于自己的Yeoman Generator
    	</a>
    </h3>

    </header>
    <p class="post-meta">
        sunny 发表于
        <time datetime="2017-12-03T03:22:36.000Z">2017-12-03</time>
        &nbsp;&nbsp;
        <span class="post-tags">
            标签：
            
        </span>
    </p>

    <div class="post-content">
        <div class="post-excerpt">
            
                <h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>最近自己写了下自己项目的react的脚手架，以前一直采用种子文件进行复制，最近看到yo，想通过命令行自动去生成所需文件当然，对于Yeoman来说是大材小用，但小小的尝试也能基本掌握Yeoman的用法吧。</p>
<h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><p><strong>1.下载安装yo和generator-generator</strong></p>
<p>在做这个步骤之前，必须安装好node和npm，之后全局安装yo和generator-generator</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo npm install -g yo</span><br><span class="line">$ sudo npm install -g generator-generator</span><br></pre></td></tr></table></figure>
<p><strong>2.运行generator-generator来创建我们自己需要的generator的基础框架</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo yo generator</span><br></pre></td></tr></table></figure>
<p>回答下问题，就可以生成你需要的基础框架，如我这里的<a href="https://github.com/sunnyShining/generator-test.git" target="_blank" rel="noopener">链接</a></p>
<p><strong>3.准备好模版，将模版复制到generator/app/templates文件夹下</strong></p>
<p><strong>4.编辑index.js</strong></p>
<p>接下来编辑generator/app/index.js文件夹，通过提出问题，收集答案，来生成我们需要的文件。具体看代码注释。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'use strict'</span>;</span><br><span class="line">const Generator = require(<span class="string">'yeoman-generator'</span>);</span><br><span class="line">const chalk = require(<span class="string">'chalk'</span>);</span><br><span class="line">const yosay = require(<span class="string">'yosay'</span>);</span><br><span class="line">const _ = require(<span class="string">'lodash'</span>);</span><br><span class="line">const fs = require(<span class="string">'fs'</span>);</span><br><span class="line"></span><br><span class="line">module.exports = class extends Generator &#123;</span><br><span class="line">    <span class="function"><span class="title">prompting</span></span>() &#123;</span><br><span class="line">        // Have Yeoman greet the user.</span><br><span class="line">        this.log(yosay(</span><br><span class="line">          <span class="string">'Welcome to the kickass '</span> + chalk.red(<span class="string">'generator-test'</span>) + <span class="string">' generator!'</span></span><br><span class="line">        ));</span><br><span class="line"></span><br><span class="line">        const prompts = [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">type</span>: <span class="string">'list'</span>,</span><br><span class="line">                name: <span class="string">'type'</span>,</span><br><span class="line">                message: <span class="string">'请选择你要创建的类型?'</span>,</span><br><span class="line">                choices: [<span class="string">'routes'</span>, <span class="string">'components'</span>]</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">                <span class="built_in">type</span>: <span class="string">'input'</span>,</span><br><span class="line">                name: <span class="string">'routesNme'</span>,</span><br><span class="line">                message: <span class="string">'请输入你要创建文件的名称！'</span>,</span><br><span class="line">                default: <span class="string">'Feed'</span></span><br><span class="line">            &#125;</span><br><span class="line">        ];</span><br><span class="line">        // 提出问题，收集答案</span><br><span class="line">        <span class="built_in">return</span> this.prompt(prompts).<span class="keyword">then</span>(props =&gt; &#123;</span><br><span class="line">            // To access props later use this.props.someAnswer;</span><br><span class="line">            this.props = props;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">writing</span></span>() &#123;</span><br><span class="line">        <span class="keyword">if</span> (this.props.type === <span class="string">'routes'</span>) &#123;</span><br><span class="line">        	// 模版</span><br><span class="line">            <span class="built_in">let</span> routesTmpl = _.template(this.fs.read(this.templatePath(<span class="string">'./Feed/Feed.jsx'</span>)));</span><br><span class="line">            this.fs.write(this.destinationPath(`src/routes/<span class="variable">$&#123;this.props.routesNme&#125;</span>/<span class="variable">$&#123;this.props.routesNme&#125;</span>.jsx`), routesTmpl(&#123;</span><br><span class="line">                routes_name: this.props.routesNme</span><br><span class="line">            &#125;));</span><br><span class="line">            this.fs.copy(</span><br><span class="line">                this.templatePath(<span class="string">'./Feed/Feed.less'</span>),</span><br><span class="line">                this.destinationPath(`src/routes/<span class="variable">$&#123;this.props.routesNme&#125;</span>/<span class="variable">$&#123;this.props.routesNme&#125;</span>.less`)</span><br><span class="line">            );</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (this.props.type === <span class="string">'components'</span>) &#123;</span><br><span class="line">            <span class="built_in">let</span> routesTmpl = _.template(this.fs.read(this.templatePath(<span class="string">'./Feed/Feed.jsx'</span>)));</span><br><span class="line">            this.fs.write(this.destinationPath(`src/components/<span class="variable">$&#123;this.props.routesNme&#125;</span>.jsx`), routesTmpl(&#123;</span><br><span class="line">                routes_name: this.props.routesNme</span><br><span class="line">            &#125;));</span><br><span class="line">            this.fs.copy(</span><br><span class="line">                this.templatePath(<span class="string">'./Feed/Feed.less'</span>),</span><br><span class="line">                this.destinationPath(`src/components/<span class="variable">$&#123;this.props.routesNme&#125;</span>/<span class="variable">$&#123;this.props.routesNme&#125;</span>.less`)</span><br><span class="line">            );</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">install</span></span>() &#123;</span><br><span class="line">        // this.installDependencies();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
            
            <p class="more">
                <a href="https://sunnyshining.github.io/2017/12/03/YeomanGenerator/">阅读剩下更多</a>
            </p>
        </div>
    </div>
</article>

    
        <!-- 文章 -->
<article class="post">
    <header>
        <!-- 标签这有且只能显示一个 -->
        
            <a href="javascript: void(0);" class="cat">未分类</a>
        
        <!-- 文章标题 -->
        
    <h3 class="post-title">
    	<a href="https://sunnyshining.github.io/2017/12/03/vueLoading/">
    		vue如何封装一个全局组件
    	</a>
    </h3>

    </header>
    <p class="post-meta">
        sunny 发表于
        <time datetime="2017-12-03T02:40:49.000Z">2017-12-03</time>
        &nbsp;&nbsp;
        <span class="post-tags">
            标签：
            
        </span>
    </p>

    <div class="post-content">
        <div class="post-excerpt">
            
                <h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>上篇介绍了如何封装一个react全局组件，这篇介绍下vue如何封装一个全局组件。</p>
<h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>通过Vue.extend(options)，使用基础 Vue 构造器，创建一个子类，再创建这个子类的实例，挂载到body元素上。具体看代码注释。</p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><p>index.js<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">import Vue from <span class="string">'vue'</span>;</span><br><span class="line">import Loading from <span class="string">'./loading'</span>;</span><br><span class="line">// 创建一个“子类”</span><br><span class="line"><span class="built_in">let</span> LoadingC = Vue.extend(Loading);</span><br><span class="line"><span class="built_in">let</span> instance;</span><br><span class="line"><span class="built_in">export</span> default &#123;</span><br><span class="line">    open (options = &#123;&#125;) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!instance) &#123;</span><br><span class="line">            this.initInstance(options);</span><br><span class="line">        &#125;</span><br><span class="line">        instance.visible = <span class="literal">true</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    initInstance (options) &#123;</span><br><span class="line">    	// 创建子类实例</span><br><span class="line">        instance = new LoadingC(&#123;</span><br><span class="line">            el: document.createElement(<span class="string">'div'</span>)</span><br><span class="line">        &#125;);</span><br><span class="line">        // 传入属性</span><br><span class="line">        instance.text = options.text || <span class="string">'加载中'</span>;</span><br><span class="line">        <span class="keyword">for</span> (var prop <span class="keyword">in</span> options) &#123;</span><br><span class="line">            <span class="keyword">if</span> (options.hasOwnProperty(prop)) &#123;</span><br><span class="line">                instance[prop] = options[prop];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        // 插到body里</span><br><span class="line">        document.body.appendChild(instance.<span class="variable">$el</span>);</span><br><span class="line">        Vue.nextTick(() =&gt; &#123;</span><br><span class="line">            instance.visible = <span class="literal">true</span>;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">close</span></span> () &#123;</span><br><span class="line">        instance.visible = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>loading.vue<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div class=<span class="string">"loading"</span> v-show=<span class="string">"visible"</span>&gt;</span><br><span class="line">	    &lt;div class=<span class="string">"loading-mask"</span>&gt;</span><br><span class="line">	    	&lt;div class=<span class="string">"loading-outter"</span>&gt;</span><br><span class="line">		    	&lt;div class=<span class="string">"loading-wrap"</span>&gt;</span><br><span class="line">		    		&lt;div class=<span class="string">"loading-ring"</span>&gt;&lt;/div&gt;</span><br><span class="line">		    	&lt;/div&gt;</span><br><span class="line">	    		&lt;div class=<span class="string">"loading-rect"</span>&gt;&lt;/div&gt;</span><br><span class="line">	    		&lt;div class=<span class="string">"loading-text"</span>&gt;&#123;&#123; text &#125;&#125;&lt;/div&gt;</span><br><span class="line">	    	&lt;/div&gt;</span><br><span class="line">	    &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="built_in">export</span> default &#123;</span><br><span class="line">    props: &#123;</span><br><span class="line">        text: &#123;</span><br><span class="line">            <span class="built_in">type</span>: String,</span><br><span class="line">            default: <span class="string">''</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">data</span></span> () &#123;</span><br><span class="line">        <span class="built_in">return</span> &#123;</span><br><span class="line">            visible: <span class="literal">true</span></span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">created</span></span> () &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style lang=<span class="string">"scss"</span> scoped&gt;</span><br><span class="line">	.loading&#123;</span><br><span class="line">		transition: opacity .3s linear;</span><br><span class="line">		width: 100%;</span><br><span class="line">		height: 100%;</span><br><span class="line">		position: fixed;</span><br><span class="line">		display: block;</span><br><span class="line">		text-align: center;</span><br><span class="line">		top: 0;</span><br><span class="line">		background-color: transparent;//背景透明</span><br><span class="line">		z-index: 9999;</span><br><span class="line">		&amp;:after&#123;</span><br><span class="line">			content: <span class="string">""</span>;</span><br><span class="line">			display: inline-block;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	.loading-mask&#123;</span><br><span class="line">		position: fixed;</span><br><span class="line">		top: 0;</span><br><span class="line">		left: 0;</span><br><span class="line">		width: 100%;</span><br><span class="line">		height: 100%;</span><br><span class="line">		background-color: rgba(0, 0, 0, .2);</span><br><span class="line">	&#125;</span><br><span class="line">.loading-outter &#123;</span><br><span class="line">    position: relative;</span><br><span class="line">    top: 50%;</span><br><span class="line">    margin-top: -0.35rem;</span><br><span class="line">    display: inline-block;</span><br><span class="line">    vertical-align: middle;</span><br><span class="line">    background-color: <span class="comment">#222;</span></span><br><span class="line">    border-radius: .5rem;</span><br><span class="line">    height: .75rem;</span><br><span class="line">&#125;</span><br><span class="line">.loading-wrap &#123;</span><br><span class="line">    position: absolute;</span><br><span class="line">    width: .56rem;</span><br><span class="line">    height: .56rem;</span><br><span class="line">    top: .094rem;</span><br><span class="line">    left: .09rem</span><br><span class="line">&#125;</span><br><span class="line">.loading-ring &#123;</span><br><span class="line">    width: .56rem;</span><br><span class="line">    height: .56rem;</span><br><span class="line">    background-image: url(<span class="string">"../../../assets/images/loading.svg"</span>);</span><br><span class="line">    background-size: cover;</span><br><span class="line">    position: absolute;</span><br><span class="line">&#125;</span><br><span class="line">.loading-rect &#123;</span><br><span class="line">    height: .18rem;</span><br><span class="line">    width: .18rem;</span><br><span class="line">    background-color: <span class="comment">#FD404A;</span></span><br><span class="line">    border-radius: .05rem;</span><br><span class="line">    -webkit-transform: rotate3D(0, 0, 1, 45deg);</span><br><span class="line">    position: absolute;</span><br><span class="line">    left: .28rem;</span><br><span class="line">    top: .28rem;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.loading-text &#123;</span><br><span class="line">    text-align: left;</span><br><span class="line">    color: <span class="comment">#fff;</span></span><br><span class="line">    font-size: .24rem;</span><br><span class="line">    font-family: sans-serif;</span><br><span class="line">    line-height: .75rem;</span><br><span class="line">    padding-left: .85rem;</span><br><span class="line">    padding-right: .26rem;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.loading-enter,</span><br><span class="line">.loading-leave-active &#123;</span><br><span class="line">    opacity: 0;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure></p>

            
            <p class="more">
                <a href="https://sunnyshining.github.io/2017/12/03/vueLoading/">阅读剩下更多</a>
            </p>
        </div>
    </div>
</article>

    
        <!-- 文章 -->
<article class="post">
    <header>
        <!-- 标签这有且只能显示一个 -->
        
            <a href="javascript: void(0);" class="cat">未分类</a>
        
        <!-- 文章标题 -->
        
    <h3 class="post-title">
    	<a href="https://sunnyshining.github.io/2017/11/29/loading/">
    		react如何封装一个全局组件
    	</a>
    </h3>

    </header>
    <p class="post-meta">
        sunny 发表于
        <time datetime="2017-11-29T13:59:29.000Z">2017-11-29</time>
        &nbsp;&nbsp;
        <span class="post-tags">
            标签：
            
        </span>
    </p>

    <div class="post-content">
        <div class="post-excerpt">
            
                <h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>react如何封装一个组件？相信，一百度网上一大把，当我想通过message.error(‘错误’)，这样的提示的时候，我们想拥有一个全局组件来调用，当我查阅资料时，并没有太多关于这个的讲解，所以想自己动手写一个。</p>
<h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>我们可以通过<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">let</span> div = document.createElement(<span class="string">'div'</span>);</span><br><span class="line">document.body.appendChild(div);</span><br></pre></td></tr></table></figure></p>
<p>创建一个div，插到body里，再通过ReactDOM，将属性和你要写的组件样子传入，如<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ReactDOM.render(React.createElement(Loading, props), div);</span><br></pre></td></tr></table></figure></p>
<p>最后在你不需要它的时候，摧毁它，如<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ReactDOM.unmountComponentAtNode(div);</span><br><span class="line">document.body.removeChild(div);</span><br></pre></td></tr></table></figure></p>
<h2 id="代码如下"><a href="#代码如下" class="headerlink" title="代码如下"></a>代码如下</h2><p>index.js<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">import Loading from <span class="string">'./src/Loading.jsx'</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">let</span> loadingInstance = 0;</span><br><span class="line"><span class="built_in">let</span> getLoadingInstance = (tip) =&gt; &#123;</span><br><span class="line">    loadingInstance = loadingInstance || Loading.newInstance(&#123;</span><br><span class="line">        tip,</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="built_in">return</span> loadingInstance;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">export</span> default &#123;</span><br><span class="line">    open(tip = <span class="string">'加载中...'</span>) &#123;</span><br><span class="line">        getLoadingInstance(tip);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">close</span></span>() &#123;</span><br><span class="line">        <span class="keyword">if</span> (loadingInstance) &#123;</span><br><span class="line">            loadingInstance.destroy();</span><br><span class="line">            loadingInstance = null;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>Loading.jsx<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from <span class="string">'react'</span>;</span><br><span class="line">import PropTypes from <span class="string">'prop-types'</span>;</span><br><span class="line">import ReactDOM from <span class="string">'react-dom'</span>;</span><br><span class="line">import <span class="string">'./Loading.less'</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> default class Loading extends Component &#123;</span><br><span class="line">	<span class="function"><span class="title">render</span></span>() &#123;</span><br><span class="line">        <span class="built_in">let</span> &#123; tip &#125; = this.props;</span><br><span class="line">        console.log(tip);</span><br><span class="line">		<span class="built_in">return</span> (</span><br><span class="line">            &lt;div className=<span class="string">"loading"</span>&gt;</span><br><span class="line">                &lt;div className=<span class="string">"loading-mask"</span>&gt;</span><br><span class="line">                    &lt;div className=<span class="string">"loading-outter"</span>&gt;</span><br><span class="line">                        &lt;div className=<span class="string">"loading-wrap"</span>&gt;</span><br><span class="line">                            &lt;div className=<span class="string">"loading-ring"</span> /&gt;</span><br><span class="line">                        &lt;/div&gt;</span><br><span class="line">                        &lt;div className=<span class="string">"loading-rect"</span> /&gt;</span><br><span class="line">                        &lt;div className=<span class="string">"loading-text"</span>&gt;&#123; tip &#125;&lt;/div&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">		);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Loading.propTypes = &#123;</span><br><span class="line">    tip: PropTypes.string,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Loading.newInstance = <span class="keyword">function</span> newNotificationInstance(properties) &#123;</span><br><span class="line">    <span class="built_in">let</span> props = properties || &#123;&#125;;</span><br><span class="line">    <span class="built_in">let</span> div = document.createElement(<span class="string">'div'</span>);</span><br><span class="line">    document.body.appendChild(div);</span><br><span class="line">    <span class="built_in">let</span> notification = ReactDOM.render(React.createElement(Loading, props), div);</span><br><span class="line">    <span class="built_in">return</span> &#123;</span><br><span class="line">        <span class="function"><span class="title">destroy</span></span>() &#123;</span><br><span class="line">            ReactDOM.unmountComponentAtNode(div);</span><br><span class="line">            document.body.removeChild(div);</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>Loading.less<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">.loading&#123;</span><br><span class="line">    transition: opacity .3s linear;</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 100%;</span><br><span class="line">    position: fixed;</span><br><span class="line">    display: block;</span><br><span class="line">    text-align: center;</span><br><span class="line">    top: 0;</span><br><span class="line">    background-color: transparent;//背景透明</span><br><span class="line">    z-index: 9999;</span><br><span class="line">    &amp;:after&#123;</span><br><span class="line">        content: <span class="string">""</span>;</span><br><span class="line">        display: inline-block;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">.loading-mask&#123;</span><br><span class="line">    position: fixed;</span><br><span class="line">    top: 0;</span><br><span class="line">    left: 0;</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 100%;</span><br><span class="line">    background-color: rgba(0, 0, 0, .2);</span><br><span class="line">&#125;</span><br><span class="line">.loading-outter &#123;</span><br><span class="line">    position: relative;</span><br><span class="line">    top: 50%;</span><br><span class="line">    margin-top: -0.35rem;</span><br><span class="line">    display: inline-block;</span><br><span class="line">    vertical-align: middle;</span><br><span class="line">    background-color: <span class="comment">#222;</span></span><br><span class="line">    border-radius: .5rem;</span><br><span class="line">    height: .75rem;</span><br><span class="line">&#125;</span><br><span class="line">.loading-wrap &#123;</span><br><span class="line">    position: absolute;</span><br><span class="line">    width: .56rem;</span><br><span class="line">    height: .56rem;</span><br><span class="line">    top: .094rem;</span><br><span class="line">    left: .09rem</span><br><span class="line">&#125;</span><br><span class="line">.loading-ring &#123;</span><br><span class="line">    width: .56rem;</span><br><span class="line">    height: .56rem;</span><br><span class="line">    background-image: url(<span class="string">"../../../assets/images/loading.svg"</span>);</span><br><span class="line">    background-size: cover;</span><br><span class="line">    position: absolute;</span><br><span class="line">&#125;</span><br><span class="line">.loading-rect &#123;</span><br><span class="line">    height: .18rem;</span><br><span class="line">    width: .18rem;</span><br><span class="line">    background-color: <span class="comment">#FD404A;</span></span><br><span class="line">    border-radius: .05rem;</span><br><span class="line">    -webkit-transform: rotate3D(0, 0, 1, 45deg);</span><br><span class="line">    position: absolute;</span><br><span class="line">    left: .28rem;</span><br><span class="line">    top: .28rem;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.loading-text &#123;</span><br><span class="line">    text-align: left;</span><br><span class="line">    color: <span class="comment">#fff;</span></span><br><span class="line">    font-size: .24rem;</span><br><span class="line">    font-family: sans-serif;</span><br><span class="line">    line-height: .75rem;</span><br><span class="line">    padding-left: .85rem;</span><br><span class="line">    padding-right: .26rem;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.loading-enter,</span><br><span class="line">.loading-leave-active &#123;</span><br><span class="line">    opacity: 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="具体代码参考我的github"><a href="#具体代码参考我的github" class="headerlink" title="具体代码参考我的github"></a>具体代码参考我的<a href="https://github.com/sunnyShining/react-demo" target="_blank" rel="noopener">github</a></h2>
            
            <p class="more">
                <a href="https://sunnyshining.github.io/2017/11/29/loading/">阅读剩下更多</a>
            </p>
        </div>
    </div>
</article>

    
        <!-- 文章 -->
<article class="post">
    <header>
        <!-- 标签这有且只能显示一个 -->
        
            <a href="javascript: void(0);" class="cat">未分类</a>
        
        <!-- 文章标题 -->
        
    <h3 class="post-title">
    	<a href="https://sunnyshining.github.io/2017/11/28/offset/">
    		js实现jquery的offset()方法(获取当前元素相对于文档的偏移量)
    	</a>
    </h3>

    </header>
    <p class="post-meta">
        sunny 发表于
        <time datetime="2017-11-28T14:43:46.000Z">2017-11-28</time>
        &nbsp;&nbsp;
        <span class="post-tags">
            标签：
            
        </span>
    </p>

    <div class="post-content">
        <div class="post-excerpt">
            
                <p>从我<a href="http://www.jianshu.com/p/e8965308d7e9" target="_blank" rel="noopener">简书</a>搬迁</p>
<h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><p>最近做项目，由于zepto使用的功能较少，想将zepto的功能用较少原生实现，其中有个实现zepto的offset()方法取到各种值的难为了我，我百度了下，大体网上千篇一律的这样写到</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">这篇文章主要介绍了js实现jquery的offset()方法,实例分析了jquery的offset()方法原理与采用javascript实现的技巧,具有一定参考借鉴价值,需要的朋友可以参考下</span><br><span class="line">本文实例讲述了js实现jquery的offset()方法。分享给大家供大家参考。具体分析如下：</span><br><span class="line">用过jQuery的offset()的同学都知道offset().top或offset().left很方便地取得元素相对于整个页面的偏移。</span><br><span class="line">而在js里，没有这样直接的方法，节点的属性offsetTop可以获得该节点相对于父节点的相对偏移，但不能直接获得其绝对偏移，我们可用节点逐层递归向上来相加offsetTop来获得绝对偏移。</span><br><span class="line">复制代码代码如下:</span><br><span class="line"><span class="keyword">function</span> getOffset(Node, offset) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!offset) &#123;</span><br><span class="line">          offset = &#123;&#125;;</span><br><span class="line">          offset.top = 0; </span><br><span class="line">          offset.left = 0;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (Node == document.body) &#123;</span><br><span class="line">        //当该节点为body节点时，结束递归</span><br><span class="line">        <span class="built_in">return</span> offset;   </span><br><span class="line">    &#125;</span><br><span class="line">    offset.top += Node.offsetTop;</span><br><span class="line">	offset.left += Node.offsetLeft;</span><br><span class="line">    <span class="built_in">return</span> getOffset(Node.parentNode, offset); //向上累加offset里的值</span><br><span class="line">&#125;</span><br><span class="line">使用时，则如：</span><br><span class="line">复制代码代码如下:</span><br><span class="line">var a = document.getElementById(<span class="string">'a'</span>); // getOffset(a).top // getOffset(a).left</span><br><span class="line">希望本文所述对大家的javascript程序设计有所帮助。</span><br></pre></td></tr></table></figure>
<p>我本着试试看的态度将这个方法炒了上去，打印出值结果与我需要的值相差甚远，为此我仔细翻了下源码，源码见下面链接<br><a href="http://blog.csdn.net/liangklfang/article/details/49229231" target="_blank" rel="noopener">源码</a><br>找到如下方法getBoundingClientRect，翻了下caniuse发现兼容性还好（本人移动端），故可以写成以下方式</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// 获取当前元素相对于文档的偏移量</span><br><span class="line"><span class="built_in">let</span> getOffset = (elem) =&gt; &#123;</span><br><span class="line">    <span class="built_in">let</span> docElem = document.documentElement;</span><br><span class="line">    <span class="built_in">let</span> box = elem.getBoundingClientRect();</span><br><span class="line">    <span class="built_in">return</span> &#123;</span><br><span class="line">            top: box.top  +  docElem.scrollTop ,</span><br><span class="line">            left: box.left + docElem.scrollLeft</span><br><span class="line">     &#125;</span><br></pre></td></tr></table></figure>
<p>如果要考虑兼容性，请仔细看zepto源码<br>另外上述</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> getOffset(Node, offset) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!offset) &#123;</span><br><span class="line">          offset = &#123;&#125;;</span><br><span class="line">          offset.top = 0;</span><br><span class="line">          offset.left = 0;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (Node == document.body) &#123;</span><br><span class="line">        // 当该节点为body节点时，结束递归</span><br><span class="line">        <span class="built_in">return</span> offset;</span><br><span class="line">     &#125;</span><br><span class="line">    offset.top += Node.offsetTop;</span><br><span class="line">    offset.left += Node.offsetLeft;</span><br><span class="line">    <span class="built_in">return</span> getOffset(Node.parentNode, offset); // 向上累加offset里的值</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>改成</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> getOffset(Node, offset) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!offset) &#123;</span><br><span class="line">          offset = &#123;&#125;;</span><br><span class="line">          offset.top = 0;</span><br><span class="line">          offset.left = 0;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (Node == document.body) &#123;</span><br><span class="line">        // 当该节点为body节点时，结束递归</span><br><span class="line">        <span class="built_in">return</span> offset;</span><br><span class="line">    &#125;</span><br><span class="line">    offset.top += Node.offsetTop;</span><br><span class="line">    offset.left += Node.offsetLeft;</span><br><span class="line">    <span class="built_in">return</span> getOffset(Node.offsetParent, offset); // 向上累加offset里的值</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>也可以实现</p>

            
            <p class="more">
                <a href="https://sunnyshining.github.io/2017/11/28/offset/">阅读剩下更多</a>
            </p>
        </div>
    </div>
</article>

    

    
    <nav class="page-navigator">
        <span class="page-number current">1</span>
    </nav>
    


            </div>

        </section>
        <!-- 侧栏部分 -->
<aside class="sidebar">
    <section class="widget">
        <h3 class="widget-hd"><strong>文章分类</strong></h3>
        <!-- 文章分类 -->
<ul class="widget-bd">
    
</ul>
    </section>

    
    <section class="widget">
        <h3 class="widget-hd"><strong>热门标签</strong></h3>
        <!-- 文章标签 -->
<div class="widget-bd tag-wrap">
  
</div>
    </section>
    

    
    <!-- 我的微博 -->
    <section class="widget">
        <h3 class="widget-hd"><strong>我的微博</strong></h3>
        <div class="widget-bd" style="position: relative;">
    <div id="myWeiboLoading" class="text-center" style="position:absolute;top:0;left:0;right:0;bottom:0;line-height:50px;font-size:12px;background-color:#fff;z-index:9;">微博加载中...</div>
    <iframe id="myWeibo" width="100%" height="550" class="share_self"  frameborder="0" scrolling="no" src="https://widget.weibo.com/weiboshow/index.php?language=&amp;width=0&amp;height=550&amp;fansRow=2&amp;ptype=1&amp;speed=0&amp;skin=1&amp;isTitle=1&amp;noborder=1&amp;isWeibo=1&amp;isFans=0&amp;uid=2449308854&amp;verifier=454ed586&amp;dpc=1"></iframe>
    <script>
        (function () {
            var oMyWeibo = document.getElementById('myWeibo');
            var oMyWeiboLoading = document.getElementById('myWeiboLoading');
            var timer = null;
            oMyWeibo.onload = function () {
                timer = setTimeout(function () {
                    oMyWeiboLoading.parentNode.removeChild(oMyWeiboLoading);
                    timer = null;
                }, 300);
            };
        })();
    </script>
</div>
    </section>
    

    
</aside>
<!-- / 侧栏部分 -->
    </div>

    <!-- 博客底部 -->
    <footer class="footer">
    &copy;
    
        2018
    

    <a href="/">sunny Loves You</a>
</footer>
<div class="back-to-top" id="backToTop" title="返回顶部">返回顶部</div>

    <!--博客js脚本 -->
    <!-- 这里放网站js脚本 -->
<script src="/js/main.js"></script>
</body>
</html>